<!DOCTYPE html>
<html lang="nb" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Min f√∏rste firebase-database</title>
    <script src="https://www.gstatic.com/firebasejs/5.8.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyCKo3gUh0v0twxLHuuX684lgb6zKYMonv4",
        authDomain: "myfirstdatabase2019.firebaseapp.com",
        databaseURL: "https://myfirstdatabase2019.firebaseio.com",
        projectId: "myfirstdatabase2019",
        storageBucket: "myfirstdatabase2019.appspot.com",
        messagingSenderId: "446536315973"
      };
      firebase.initializeApp(config);
    </script>
  </head>
  <body>

    <p>Obs! Denne siden inneholder javascript.</p>

    <script type="text/javascript">

      //Variabler som referer til firebase-databasen
      const db = firebase.database();
      const kontaktliste = db.ref("kontakliste"); // referer til kontakliste i databasen


      let kontakt = {
        "firstName": "Barack",
        "lastName": "Obama"
      }

      kontaktliste.push(kontakt);

      function lesFraDb(snapshot){
        let nyKontakt = snapshot.val();
        document.body.innerHTML += `<p>Fornavn;${nyKontakt.firstName}.Etternavn: ${nyKontakt.lastName}</p>`;
      }

      kontaktliste.on("child_added", lesFraDb)

    </script>

  </body>
</html>
